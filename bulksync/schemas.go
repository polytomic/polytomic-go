// This file was auto-generated by Fern from our API Definition.

package bulksync

import (
	json "encoding/json"
	polytomicgo "github.com/polytomic/polytomic-go"
	internal "github.com/polytomic/polytomic-go/internal"
	time "time"
)

type SchemasListRequest struct {
	Filters map[string]string `json:"-" url:"filters,omitempty"`
}

type BulkSyncSchemasRequest struct {
	Schemas []*polytomicgo.BulkSchema `json:"schemas,omitempty" url:"-"`
}

type UpdateBulkSchema struct {
	DataCutoffTimestamp *time.Time                     `json:"data_cutoff_timestamp,omitempty" url:"-"`
	DisableDataCutoff   *bool                          `json:"disable_data_cutoff,omitempty" url:"-"`
	Enabled             *bool                          `json:"enabled,omitempty" url:"-"`
	Fields              []*polytomicgo.UpdateBulkField `json:"fields,omitempty" url:"-"`
	Filters             []*polytomicgo.BulkFilter2     `json:"filters,omitempty" url:"-"`
	PartitionKey        *string                        `json:"partition_key,omitempty" url:"-"`
	TrackingField       *string                        `json:"tracking_field,omitempty" url:"-"`
	UserOutputName      *string                        `json:"user_output_name,omitempty" url:"-"`
}

func (u *UpdateBulkSchema) UnmarshalJSON(data []byte) error {
	type unmarshaler UpdateBulkSchema
	var body unmarshaler
	if err := json.Unmarshal(data, &body); err != nil {
		return err
	}
	*u = UpdateBulkSchema(body)
	return nil
}

func (u *UpdateBulkSchema) MarshalJSON() ([]byte, error) {
	type embed UpdateBulkSchema
	var marshaler = struct {
		embed
		DataCutoffTimestamp *internal.DateTime `json:"data_cutoff_timestamp,omitempty"`
	}{
		embed:               embed(*u),
		DataCutoffTimestamp: internal.NewOptionalDateTime(u.DataCutoffTimestamp),
	}
	return json.Marshal(marshaler)
}
