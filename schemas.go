// This file was auto-generated by Fern from our API Definition.

package polytomic

import (
	json "encoding/json"
	fmt "fmt"
	core "github.com/polytomic/polytomic-go/core"
	time "time"
)

type DeleteFieldSchemasRequest struct {
}

type GetSchemasRequest struct {
}

type GetRecordsSchemasRequest struct {
}

type GetStatusSchemasRequest struct {
}

type RefreshSchemasRequest struct {
}

type ResetPrimaryKeysSchemasRequest struct {
}

type V4SetPrimaryKeysRequest struct {
	Fields []*SchemaPrimaryKeyOverrideInput `json:"fields,omitempty" url:"fields,omitempty"`
}

type V4UpsertSchemaFieldRequest struct {
	Fields []*V4UserFieldRequest `json:"fields,omitempty" url:"fields,omitempty"`
}

type SchemaPrimaryKeyOverrideInput struct {
	FieldID      string `json:"field_id" url:"field_id"`
	IsPrimaryKey bool   `json:"is_primary_key" url:"is_primary_key"`

	_rawJSON json.RawMessage
}

func (s *SchemaPrimaryKeyOverrideInput) UnmarshalJSON(data []byte) error {
	type unmarshaler SchemaPrimaryKeyOverrideInput
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*s = SchemaPrimaryKeyOverrideInput(value)
	s._rawJSON = json.RawMessage(data)
	return nil
}

func (s *SchemaPrimaryKeyOverrideInput) String() string {
	if len(s._rawJSON) > 0 {
		if value, err := core.StringifyJSON(s._rawJSON); err == nil {
			return value
		}
	}
	if value, err := core.StringifyJSON(s); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", s)
}

type V3BulkSyncSourceSchemaEnvelope struct {
	Data *V3Schema `json:"data,omitempty" url:"data,omitempty"`

	_rawJSON json.RawMessage
}

func (v *V3BulkSyncSourceSchemaEnvelope) UnmarshalJSON(data []byte) error {
	type unmarshaler V3BulkSyncSourceSchemaEnvelope
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*v = V3BulkSyncSourceSchemaEnvelope(value)
	v._rawJSON = json.RawMessage(data)
	return nil
}

func (v *V3BulkSyncSourceSchemaEnvelope) String() string {
	if len(v._rawJSON) > 0 {
		if value, err := core.StringifyJSON(v._rawJSON); err == nil {
			return value
		}
	}
	if value, err := core.StringifyJSON(v); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", v)
}

type V3BulkSyncSourceStatus struct {
	CacheStatus         *string    `json:"cache_status,omitempty" url:"cache_status,omitempty"`
	LastRefreshFinished *time.Time `json:"last_refresh_finished,omitempty" url:"last_refresh_finished,omitempty"`
	LastRefreshStarted  *time.Time `json:"last_refresh_started,omitempty" url:"last_refresh_started,omitempty"`

	_rawJSON json.RawMessage
}

func (v *V3BulkSyncSourceStatus) UnmarshalJSON(data []byte) error {
	type embed V3BulkSyncSourceStatus
	var unmarshaler = struct {
		embed
		LastRefreshFinished *core.DateTime `json:"last_refresh_finished,omitempty"`
		LastRefreshStarted  *core.DateTime `json:"last_refresh_started,omitempty"`
	}{
		embed: embed(*v),
	}
	if err := json.Unmarshal(data, &unmarshaler); err != nil {
		return err
	}
	*v = V3BulkSyncSourceStatus(unmarshaler.embed)
	v.LastRefreshFinished = unmarshaler.LastRefreshFinished.TimePtr()
	v.LastRefreshStarted = unmarshaler.LastRefreshStarted.TimePtr()
	v._rawJSON = json.RawMessage(data)
	return nil
}

func (v *V3BulkSyncSourceStatus) MarshalJSON() ([]byte, error) {
	type embed V3BulkSyncSourceStatus
	var marshaler = struct {
		embed
		LastRefreshFinished *core.DateTime `json:"last_refresh_finished,omitempty"`
		LastRefreshStarted  *core.DateTime `json:"last_refresh_started,omitempty"`
	}{
		embed:               embed(*v),
		LastRefreshFinished: core.NewOptionalDateTime(v.LastRefreshFinished),
		LastRefreshStarted:  core.NewOptionalDateTime(v.LastRefreshStarted),
	}
	return json.Marshal(marshaler)
}

func (v *V3BulkSyncSourceStatus) String() string {
	if len(v._rawJSON) > 0 {
		if value, err := core.StringifyJSON(v._rawJSON); err == nil {
			return value
		}
	}
	if value, err := core.StringifyJSON(v); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", v)
}

type V3BulkSyncSourceStatusEnvelope struct {
	Data *V3BulkSyncSourceStatus `json:"data,omitempty" url:"data,omitempty"`

	_rawJSON json.RawMessage
}

func (v *V3BulkSyncSourceStatusEnvelope) UnmarshalJSON(data []byte) error {
	type unmarshaler V3BulkSyncSourceStatusEnvelope
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*v = V3BulkSyncSourceStatusEnvelope(value)
	v._rawJSON = json.RawMessage(data)
	return nil
}

func (v *V3BulkSyncSourceStatusEnvelope) String() string {
	if len(v._rawJSON) > 0 {
		if value, err := core.StringifyJSON(v._rawJSON); err == nil {
			return value
		}
	}
	if value, err := core.StringifyJSON(v); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", v)
}

type V3SchemaRecordsResponseEnvelope struct {
	Data []map[string]interface{} `json:"data,omitempty" url:"data,omitempty"`

	_rawJSON json.RawMessage
}

func (v *V3SchemaRecordsResponseEnvelope) UnmarshalJSON(data []byte) error {
	type unmarshaler V3SchemaRecordsResponseEnvelope
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*v = V3SchemaRecordsResponseEnvelope(value)
	v._rawJSON = json.RawMessage(data)
	return nil
}

func (v *V3SchemaRecordsResponseEnvelope) String() string {
	if len(v._rawJSON) > 0 {
		if value, err := core.StringifyJSON(v._rawJSON); err == nil {
			return value
		}
	}
	if value, err := core.StringifyJSON(v); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", v)
}

type V4UserFieldRequest struct {
	Example interface{} `json:"example,omitempty" url:"example,omitempty"`
	FieldID string      `json:"field_id" url:"field_id"`
	Label   string      `json:"label" url:"label"`
	Path    *string     `json:"path,omitempty" url:"path,omitempty"`
	Type    string      `json:"type" url:"type"`

	_rawJSON json.RawMessage
}

func (v *V4UserFieldRequest) UnmarshalJSON(data []byte) error {
	type unmarshaler V4UserFieldRequest
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*v = V4UserFieldRequest(value)
	v._rawJSON = json.RawMessage(data)
	return nil
}

func (v *V4UserFieldRequest) String() string {
	if len(v._rawJSON) > 0 {
		if value, err := core.StringifyJSON(v._rawJSON); err == nil {
			return value
		}
	}
	if value, err := core.StringifyJSON(v); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", v)
}
